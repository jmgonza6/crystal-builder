<!DOCTYPE html>
<html lang="en-us">
  <head>
    <meta charset="UTF-8">
    <title>Crystal Builder - jmgonza6@MSL</title>
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <link rel="stylesheet" href="css/normalize.css">
    <link href='https://fonts.googleapis.com/css?family=Open+Sans:400,700' rel='stylesheet' type='text/css'>
    <link rel="stylesheet" href="css/cayman.css">
  </head>
  <body>
    <section class="page-header">
      <h1 class="project-name">Crystal Builder</h1>
      <h2 class="project-tagline">Simple program to build crystals for DFT/MD simulations</h2>
      <a href="index.html" class="btn">Home</a>
      <a href="docs.html" class="btn">Documentation</a>
      <a href="install.html" class="btn">Install</a>
      <a href="https://github.com/jmgonza6/crystal-builder" class="btn">View on GitHub</a>
    </section>

    <section class="main-content">
      <h1>
      <a id="doxygen" class="anchor" href="#doxygen" aria-hidden="true"><span class="octicon octicon-link"></span></a>Code Documentation</h1>

      <p><a href="docs/html/index.html"> Source code documentation</a>


      <h1>
      <a id="usage" class="anchor" href="#usage" aria-hidden="true"><span class="octicon octicon-link"></span></a>Usage</h1>

      <p>
        Currently, four options are available for using this application:
        <ol>
          <li>
            <p>Build a <a href="#standard"> standard</a> crystal using the GUI</p>
          </li>
          <li>
            <p>Select a <a href="#library"> library</a> structure using the GUI</p>
          </li>
          <li>
            <p>Select a <a href="#custom"> custom</a> structure using the GUI</p>
          </li>
          <li>
            <p>Drive the application from the <a href="#cmdline"> command line</a> using a parameters file</p>
          </li>
        </ol>
      </p>

      <p>
        <ol>
            <li>
              <h3><a id="standard" class="anchor" href="#standard" aria-hidden="true"><span class="octicon octicon-link"></span></a>Standard</h3>
              <p>
                To begin, select one of the crystals from the drop down and fill in the relevant parameters presented in the pop-up menu. Then nvaigate to the <i>Modify</i> tab to define a chemical element. If you wish to create a supercell, then fill in any of the three empty boxes. By default, these are set to 1x1x1, and so any of can of them be left empty. To finish, navigate to the <i>Output</i> tab, and select a format from the dropdown. If choosing the <i>LAMMPS</i> or <i>DMol</i> format, then you must specify a file name, using the Save as button, for the <i>VASP</i> format, this is unnecessary since the file written is named <i>POSCAR</i>.  At any time, if a mistake has been made, the <i>Reset</i> tab in the lower portion of the GUI window can be hit which will erase all parameters.
            </p>
          </li>
          <li>
            <h3><a id="library" class="anchor" href="#library" aria-hidden="true"><span class="octicon octicon-link"></span></a>Library</h3>
            <p>
              To begin, select <i>Library</i> from the <i>Crystals</i> dropdown menu. If building one of the 2D materials, some interaction may be necessary. In the case of graphene, the <i>a</i> lattice parameter is required. For the layered (T)MDC structures, the default is to use MoS2, and <i>a</i> lattice parameters of 3.19 Å for all four cases. If you wish to build a different crystal, then define the stoichiometry on the bottom of the <i>Modify</i> tab. The syntax for defining the stoichiometry is the following:
            </p>
            <code>Type1:n1,Type2:n2 i.e. Mo:1,S:2 or Sn:1,Se:2</code>
            <p>
              If you wish to create a supercell, then fill in any of the three empty boxes. By default, these
              are set to 1x1x1, and so any of can of them be left empty. To finish, navigate to the <i>Output</i>
              tab, and select a format from the dropdown. If choosing the <i>LAMMPS</i> or <i>DMol</i> format, then you must specify a file name, using the Save as button, for the <i>VASP</i> format, this is unnecessary since the file written is named <i>POSCAR</i>. At any time, if a mistake has been made, the <i>Reset</i> tab in the lower portion of the GUI window can be hit which will erase all parameters.
            </p>
          </li>
          <li>
            <h3><a id="custom" class="anchor" href="#custom" aria-hidden="true"><span class="octicon octicon-link"></span></a>Custom</h3>
            <p>
              To build a custom crystal, click the <i>Custom</i> crystal button in the <i>Lattice</i> tab. A pop-up
              menu containing entries for the pertinant data will appear. In this scenario, <i>a,b,c</i> and <i>α,β,γ,</i>
              the stoichiometry and the basis have no defaults and must be explictly defined. For the
              stoichiometry, the syntax is the as above, 
            </p>
            <code>Type1:n1,Type2:n2 i.e. Mo:1,S:2 or Sn:1,Se:2</code>
            <p>
              Once the lattice paramters, angles and stoichiometry are defined, click the <i>Add atom</i> button
              to begin defining the basis. To define the coordinates, use the fractional system and enter
              them as a comma separated field, i.e. (0.5, 0.25, 0). To save the coordinates, hit the enter
              button after all three coordinates are defined. If a mistake is made, hit the <i>Reset</i> button
              below this entry field. This will reset only the basis atoms entered so far, and nothing else.
              <br>
              <br>
              <b><i>NOTE: The order of atoms added is relevant here and should follow the stoichiometric relationship defined above</i></b>
            </p>

            <p>
              If you wish to create a supercell, then fill in any of the three empty boxes. By default, these
              are set to 1x1x1, and so any of can of them be left empty. To finish, navigate to the <i>Output</i>
              tab, and select a format from the dropdown. If choosing the <i>LAMMPS</i> or <i>DMol</i> format, then you must specify a file name, using the Save as button, for the <i>VASP</i> format, this is unnecessary since the file written is named <i>POSCAR</i>. At any time, if a mistake has been made, the <i>Reset</i> tab in the lower portion of the GUI window can be hit which will erase all parameters.
            </p>
          </li>  
          <li>
            <h3><a id="cmdline" class="anchor" href="#cmdline" aria-hidden="true"><span class="octicon octicon-link"></span></a>Command Line</h3>
            <p>
              To run the application in this way, you must first define the appropriate parameters in a text file and pass this as an argument to the application from the command line as follows,
            </p>
            <code>./crysb -f parametersFile.in</code>
            <p>
              View a full list of <a href="commands.html"> commands </a> for the  parameters file. This file is also included in the package, and can be found in the top-level directory, <code> parametersFile.in</code>
            </p>
          </li>      
        </ol>
      </p>


      <h2>
      <a id="saving" class="anchor" href="#saving" aria-hidden="true"><span class="octicon octicon-link"></span></a>Saving/viewing</h2>

      <p>
        After following the steps in 1), 2), or 3), you can chose to simply build the crystal and have it saved to your file.  Alternatively, if the <i>Open GL</i> library was used in building this application, the crystal can be viewed in an interactive window by clicking the <i>Build+render</i> tab, see below for keyboard and mouse commands. If using option 4), the <i>run</i> command defines the ending behavior. Upon closing the rendering window the crystal data will be written to the file you specified and the main program will terminate.
        <br>
        <br>
        <b><i>NOTE: If building a crystal with > 5000 atoms, rendering is a little slow. Advise to use the build without rendering option.</i></b>
      </p>


      <h2>
      <a id="interact" class="anchor" href="#interact" aria-hidden="true"><span class="octicon octicon-link"></span></a>Crystal/Scene interaction</h2>


<pre><code>Mouse events:
  Left mouse            rotate/scale the object
  Right mouse           scene display menu

Keyboard events:
    'A'                   display atoms and unit cell
    'a'                   display atoms only
    'B'                   display bonds, uniform nearest neighbor cutoff
    'b'                   hide bonds
    'C'                   increase nearest neighbor cutoff
    'c'                   decrease nearest neighbor cutoff
    'e'                   exit and save the data from the rendering scene
    'o'                   orthographic projection of the crystal
    'p'                   perspective projection of the crystal
    'r' then LeftButton   rotate the crystal in all 3 dimensions
    'W'                   change background to white and bounding box to black
    'w'                   change background to black and bounding box to white
    'z' then LeftButton   zoom toward/away from the crystal
    '0'                   reset orientation of crystal to looking down z toward xy plane
    '1'                   view the xz "a-c" plane of the crystal
    '2'                   view the yz "b-c" plane of the crystal
    '3'                   rotate crystal about x by -45˚, and then -45˚ about z, 'psuedo' perspective view
    '+'                   increase the particle radius uniformly
    '-'                   decrease the particle radius uniformly

    Up arrow              Shift the crystal in positive vertical screen direction
    Down arrow            Shift the crystal in negative vertical screen direction
    Left arrow            Shift the crystal in negative horizontal screen direction
    Right arrow           Shift the crystal in positive horizontal screen direction</code></pre>


<!-- <pre><code>/// full list of parameters order of appearance is irrelevant

/////////////////////////
/// Required commands ///
/////////////////////////

/// required
/// define which bravais lattice to build
/// arguments:  class = cubic or tetragonal or ortho or custom or library
bravais         class

/// required
/// define which lattice style to build
/// arguments:  style = bcc or fcc or sc or diamond for `cubic`, bcc or fcc or sc for `tetragonal` and `ortho`
bravais_style   style 

/// required
/// write the data to the specified file
/// if saving to vasp, the trailing filename argument is not used
/// arguments:  format = dmol or lammps or vasp and filename
save            format

/// required
/// build just writes the data and does not render the crystal
/// render does just that, it shows you the crystal and saves the 
/// data according to your reuqest
/// arguments:  style = build or render
run             style


/// required
/// absolutely reuqired when using the custom option
/// if using the library structures for (T)MDC you can change the default
/// stoichiometry and lattice parameters. i.e. Mo:1,S:2
stoich          type1:n1,type2:n2,type3:n3,... 


///////////////////////
/// Custom commands ///
///////////////////////

/// semi-required 
/// these are searched for if library was selected above, other wise they are ignored
/// name = graphene or hBN or mdc-2h or mdc-1t or tmdc-2h or tmdc-1t or petn or tatb or hmx
/// id   =     1    or  2  or   3    or   4    or    5    or    6    or  7   or  8   or  9
use_prebuilt    name
use_prebuilt    id

/// semi-required 
/// this is searched for if library && graphene was selected above, other wise it is ignored
/// arguments: atoms = 2 or 4
graphene_basis  atoms

/// semi-required, MUST BE DEFINED if using `custom`
/// defines the coordinates of each basis atom
/// the atoms need to be listed in their stoichiometric
/// order, the same as when using the GUI
/// anything after the coordinates is treated as a comment
begin_basis
  0.0 0.0 0.0  /// Na 1
  0.5 0.5 0.5  /// Cl 1
end_basis

//////////////////////
/// Extra commands ///
//////////////////////

/// not required
/// all values below have defaults and so none are technically required
/// even when building a custom crystal 
/// append, in any order 0 or more of the parameters below
/// default := a = b = c = 1
lat_parameters  a=x,b=y,c=z 

/// not required
/// all values below have defaults and so none are technically required
/// even when building a custom crystal 
/// append, in any order 0 or more of the angles below
/// default := alpha = beta = gamma = 90
lat_angles      alpha=t,beta=p,gamma=q

/// not required
/// define a supercell based on a single unit cell
/// append, in any order 0 or more of the angles below
/// default := nx = ny = nz = 1
super_cell      nx=n1,ny=n2,nz=n3

/// not required
/// write the coordinates in fractional units
/// only valid if writing to vasp
data_modify     fractional</code></pre> -->

      <footer class="site-footer">
        <span class="site-footer-credits">Cayman theme</a> by <a href="https://twitter.com/jasonlong">Jason Long</a>.</span>
      </footer>

    </section>

  </body>
</html>
